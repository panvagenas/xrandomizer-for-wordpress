ace.define("ace/mode/latex_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(f,b,g){var d=f("../lib/oop"),a=f("./text_highlight_rules").TextHighlightRules,c=function(){this.$rules={start:[{token:"comment",regex:"%.*$"},{token:["keyword","lparen","variable.parameter","rparen","lparen","storage.type","rparen"],regex:"(\\\\(?:documentclass|usepackage|input))(?:(\\[)([^\\]]*)(\\]))?({)([^}]*)(})"},{token:["keyword","lparen","variable.parameter","rparen"],regex:"(\\\\(?:label|v?ref|cite(?:[^{]*)))(?:({)([^}]*)(}))?"},{token:["storage.type","lparen","variable.parameter","rparen"],regex:"(\\\\(?:begin|end))({)(\\w*)(})"},{token:"storage.type",regex:"\\\\[a-zA-Z]+"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"constant.character.escape",regex:"\\\\[^a-zA-Z]?"},{token:"string",regex:"\\${1,2}",next:"equation"}],equation:[{token:"comment",regex:"%.*$"},{token:"string",regex:"\\${1,2}",next:"start"},{token:"constant.character.escape",regex:"\\\\(?:[^a-zA-Z]|[a-zA-Z]+)"},{token:"error",regex:"^\\s*$",next:"start"},{defaultToken:"string"}]}};d.inherits(c,a),b.LatexHighlightRules=c}),ace.define("ace/mode/folding/latex",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range","ace/token_iterator"],function(g,c,j){var f=g("../../lib/oop"),b=g("./fold_mode").FoldMode,d=g("../../range").Range,h=g("../../token_iterator").TokenIterator,a=c.FoldMode=function(){};f.inherits(a,b),function(){this.foldingStartMarker=/^\s*\\(begin)|(section|subsection|paragraph)\b|{\s*$/,this.foldingStopMarker=/^\s*\\(end)\b|^\s*}/,this.getFoldWidgetRange=function(o,l,p){var m=o.doc.getLine(p),k=this.foldingStartMarker.exec(m);if(k){return k[1]?this.latexBlock(o,p,k[0].length-1):k[2]?this.latexSection(o,p,k[0].length-1):this.openingBracketBlock(o,"{",p,k.index)}var k=this.foldingStopMarker.exec(m);if(k){return k[1]?this.latexBlock(o,p,k[0].length-1):this.closingBracketBlock(o,"}",p,k.index+k[0].length)}},this.latexBlock=function(y,E,o){var k={"\\begin":1,"\\end":-1},s=new h(y,E,o),D=s.getCurrentToken();if(!D||D.type!="storage.type"&&D.type!="constant.character.escape"){return}var B=D.value,x=k[B],q=function(){var l=s.stepForward(),i=l.type=="lparen"?s.stepForward().value:"";return x===-1&&(s.stepBackward(),i&&s.stepBackward()),i},A=[q()],w=x===-1?s.getCurrentTokenColumn():y.getLine(E).length,m=E;s.step=x===-1?s.stepBackward:s.stepForward;while(D=s.step()){if(!D||D.type!="storage.type"&&D.type!="constant.character.escape"){continue}var z=k[D.value];if(!z){continue}var C=q();if(z===x){A.unshift(C)}else{if(A.shift()!==C||!A.length){break}}}if(A.length){return}var E=s.getCurrentTokenRow();return x===-1?new d(E,y.getLine(E).length,m,w):(s.stepBackward(),new d(m,w,E,s.getCurrentTokenColumn()))},this.latexSection=function(s,y,m){var k=["\\subsection","\\section","\\begin","\\end","\\paragraph"],p=new h(s,y,m),x=p.getCurrentToken();if(!x||x.type!="storage.type"){return}var w=k.indexOf(x.value),q=0,o=y;while(x=p.stepForward()){if(x.type!=="storage.type"){continue}var v=k.indexOf(x.value);if(v>=2){q||(o=p.getCurrentTokenRow()-1),q+=v==2?1:-1;if(q<0){break}}else{if(v>=w){break}}}q||(o=p.getCurrentTokenRow()-1);while(o>y&&!/\S/.test(s.getLine(o))){o--}return new d(y,s.getLine(y).length,o,s.getLine(o).length)}}.call(a.prototype)}),ace.define("ace/mode/latex",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/latex_highlight_rules","ace/mode/folding/latex","ace/range"],function(g,k,d){var b=g("../lib/oop"),f=g("./text").Mode,l=g("./latex_highlight_rules").LatexHighlightRules,c=g("./folding/latex").FoldMode,j=g("../range").Range,h=function(){this.HighlightRules=l,this.foldingRules=new c};b.inherits(h,f),function(){this.type="text",this.lineCommentStart="%",this.$id="ace/mode/latex"}.call(h.prototype),k.Mode=h});