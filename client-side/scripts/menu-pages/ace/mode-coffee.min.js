ace.define("ace/mode/coffee_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(f,b,g){function c(){var p="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",w="this|throw|then|try|typeof|super|switch|return|break|by|continue|catch|class|in|instanceof|is|isnt|if|else|extends|for|own|finally|function|while|when|new|no|not|delete|debugger|do|loop|of|off|or|on|unless|until|and|yes",k="true|false|null|undefined|NaN|Infinity",h="case|const|default|function|var|void|with|enum|export|implements|interface|let|package|private|protected|public|static|yield|__hasProp|slice|bind|indexOf",l="Array|Boolean|Date|Function|Number|Object|RegExp|ReferenceError|String|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray",x="Math|JSON|isNaN|isFinite|parseInt|parseFloat|encodeURI|encodeURIComponent|decodeURI|decodeURIComponent|String|",j="window|arguments|prototype|document",v=this.createKeywordMapper({keyword:w,"constant.language":k,"invalid.illegal":h,"language.support.class":l,"language.support.function":x,"variable.language":j},"identifier"),q={token:["paren.lparen","variable.parameter","paren.rparen","text","storage.type"],regex:/(?:(\()((?:"[^")]*?"|'[^')]*?'|\/[^\/)]*?\/|[^()\"'\/])*?)(\))(\s*))?([\-=]>)/.source},m=/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|[0-2][0-7]{0,2}|3[0-6][0-7]?|37[0-7]?|[4-7][0-7]?|.)/;this.$rules={start:[{token:"constant.numeric",regex:"(?:0x[\\da-fA-F]+|(?:\\d+(?:\\.\\d+)?|\\.\\d+)(?:[eE][+-]?\\d+)?)"},{stateName:"qdoc",token:"string",regex:"'''",next:[{token:"string",regex:"'''",next:"start"},{token:"constant.language.escape",regex:m},{defaultToken:"string"}]},{stateName:"qqdoc",token:"string",regex:'"""',next:[{token:"string",regex:'"""',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:m},{defaultToken:"string"}]},{stateName:"qstring",token:"string",regex:"'",next:[{token:"string",regex:"'",next:"start"},{token:"constant.language.escape",regex:m},{defaultToken:"string"}]},{stateName:"qqstring",token:"string.start",regex:'"',next:[{token:"string.end",regex:'"',next:"start"},{token:"paren.string",regex:"#{",push:"start"},{token:"constant.language.escape",regex:m},{defaultToken:"string"}]},{stateName:"js",token:"string",regex:"`",next:[{token:"string",regex:"`",next:"start"},{token:"constant.language.escape",regex:m},{defaultToken:"string"}]},{regex:"[{}]",onMatch:function(o,i,r){this.next="";if(o=="{"&&r.length){return r.unshift("start",i),"paren"}if(o=="}"&&r.length){r.shift(),this.next=r.shift()||"";if(this.next.indexOf("string")!=-1){return"paren.string"}}return"paren"}},{token:"string.regex",regex:"///",next:"heregex"},{token:"string.regex",regex:/(?:\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)(?:[imgy]{0,4})(?!\w)/},{token:"comment",regex:"###(?!#)",next:"comment"},{token:"comment",regex:"#.*"},{token:["punctuation.operator","text","identifier"],regex:"(\\.)(\\s*)("+h+")"},{token:"punctuation.operator",regex:"\\."},{token:["keyword","text","language.support.class","text","keyword","text","language.support.class"],regex:"(class)(\\s+)("+p+")(?:(\\s+)(extends)(\\s+)("+p+"))?"},{token:["entity.name.function","text","keyword.operator","text"].concat(q.token),regex:"("+p+")(\\s*)([=:])(\\s*)"+q.regex},q,{token:"variable",regex:"@(?:"+p+")?"},{token:v,regex:p},{token:"punctuation.operator",regex:"\\,|\\."},{token:"storage.type",regex:"[\\-=]>"},{token:"keyword.operator",regex:"(?:[-+*/%<>&|^!?=]=|>>>=?|\\-\\-|\\+\\+|::|&&=|\\|\\|=|<<=|>>=|\\?\\.|\\.{2,3}|[!*+-=><])"},{token:"paren.lparen",regex:"[({[]"},{token:"paren.rparen",regex:"[\\]})]"},{token:"text",regex:"\\s+"}],heregex:[{token:"string.regex",regex:".*?///[imgy]{0,4}",next:"start"},{token:"comment.regex",regex:"\\s+(?:#.*)?"},{token:"string.regex",regex:"\\S+"}],comment:[{token:"comment",regex:"###",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()}var d=f("../lib/oop"),a=f("./text_highlight_rules").TextHighlightRules;d.inherits(c,a),b.CoffeeHighlightRules=c}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(d,b,f){var c=d("../range").Range,a=function(){};(function(){this.checkOutdent=function(h,g){return/^\s+$/.test(h)?/^\s*\}/.test(g):!1},this.autoOutdent=function(l,j){var p=l.getLine(j),h=p.match(/^(\s*\})/);if(!h){return 0}var k=h[1].length,m=l.findMatchingBracket({row:j,column:k});if(!m||m.row==j){return 0}var g=this.$getIndent(l.getLine(m.row));l.replace(new c(j,0,j,k-1),g)},this.$getIndent=function(g){return g.match(/^\s*/)[0]}}).call(a.prototype),b.MatchingBraceOutdent=a}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(f,b,h){var d=f("../../lib/oop"),a=f("./fold_mode").FoldMode,c=f("../../range").Range,g=b.FoldMode=function(){};d.inherits(g,a),function(){this.getFoldWidgetRange=function(y,C,q){var j=this.indentationBlock(y,q);if(j){return j}var v=/\S/,m=y.getLine(q),B=m.search(v);if(B==-1||m[B]!="#"){return}var A=m.length,x=y.getLength(),s=q,z=q;while(++q<x){m=y.getLine(q);var w=m.search(v);if(w==-1){continue}if(m[w]!="#"){break}z=q}if(z>s){var k=y.getLine(z).length;return new c(s,A,z,k)}},this.getFoldWidget=function(p,w,l){var j=p.getLine(l),m=j.search(/\S/),x=p.getLine(l+1),k=p.getLine(l-1),v=k.search(/\S/),q=x.search(/\S/);if(m==-1){return p.foldWidgets[l-1]=v!=-1&&v<q?"start":"",""}if(v==-1){if(m==q&&j[m]=="#"&&x[m]=="#"){return p.foldWidgets[l-1]="",p.foldWidgets[l+1]="","start"}}else{if(v==m&&j[m]=="#"&&k[m]=="#"&&p.getLine(l-2).search(/\S/)==-1){return p.foldWidgets[l-1]="start",p.foldWidgets[l+1]="",""}}return v!=-1&&v<m?p.foldWidgets[l-1]="start":p.foldWidgets[l-1]="",m<q?"start":""}}.call(g.prototype)}),ace.define("ace/mode/coffee",["require","exports","module","ace/mode/coffee_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee","ace/range","ace/mode/text","ace/worker/worker_client","ace/lib/oop"],function(k,q,d){function g(){this.HighlightRules=b,this.$outdent=new h,this.foldingRules=new v}var b=k("./coffee_highlight_rules").CoffeeHighlightRules,h=k("./matching_brace_outdent").MatchingBraceOutdent,v=k("./folding/coffee").FoldMode,c=k("../range").Range,p=k("./text").Mode,m=k("../worker/worker_client").WorkerClient,j=k("../lib/oop");j.inherits(g,p),function(){var i=/(?:[({[=:]|[-=]>|\b(?:else|try|(?:swi|ca)tch(?:\s+[$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)?|finally))\s*$|^\s*(else\b\s*)?(?:if|for|while|loop)\b(?!.*\bthen\b)/,a=/^(\s*)#/,l=/^\s*###(?!#)/,f=/^\s*/;this.getNextLineIndent=function(o,x,w){var e=this.$getIndent(x),u=this.getTokenizer().getLineTokens(x,o).tokens;return(!u.length||u[u.length-1].type!=="comment")&&o==="start"&&i.test(x)&&(e+=w),e},this.toggleCommentLines=function(y,t,w,r){console.log("toggle");var o=new c(0,0,0,0);for(var x=w;x<=r;++x){var n=t.getLine(x);if(l.test(n)){continue}a.test(n)?n=n.replace(a,"$1"):n=n.replace(f,"$&#"),o.end.row=o.start.row=x,o.end.column=n.length+1,t.replace(o,n)}},this.checkOutdent=function(r,o,s){return this.$outdent.checkOutdent(o,s)},this.autoOutdent=function(r,o,s){this.$outdent.autoOutdent(o,s)},this.createWorker=function(o){var n=new m(["ace"],"ace/mode/coffee_worker","Worker");return n.attachToDocument(o.getDocument()),n.on("error",function(e){o.setAnnotations([e.data])}),n.on("ok",function(e){o.clearAnnotations()}),n},this.$id="ace/mode/coffee"}.call(g.prototype),q.Mode=g});