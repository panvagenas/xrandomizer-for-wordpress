ace.define("ace/mode/logiql_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(f,b,g){var d=f("../lib/oop"),a=f("./text_highlight_rules").TextHighlightRules,c=function(){this.$rules={start:[{token:"comment.block",regex:"/\\*",push:[{token:"comment.block",regex:"\\*/",next:"pop"},{defaultToken:"comment.block"}]},{token:"comment.single",regex:"//.*"},{token:"constant.numeric",regex:"\\d+(?:\\.\\d+)?(?:[eE][+-]?\\d+)?[fd]?"},{token:"string",regex:'"',push:[{token:"string",regex:'"',next:"pop"},{defaultToken:"string"}]},{token:"constant.language",regex:"\\b(true|false)\\b"},{token:"entity.name.type.logicblox",regex:"`[a-zA-Z_:]+(\\d|\\a)*\\b"},{token:"keyword.start",regex:"->",comment:"Constraint"},{token:"keyword.start",regex:"-->",comment:"Level 1 Constraint"},{token:"keyword.start",regex:"<-",comment:"Rule"},{token:"keyword.start",regex:"<--",comment:"Level 1 Rule"},{token:"keyword.end",regex:"\\.",comment:"Terminator"},{token:"keyword.other",regex:"!",comment:"Negation"},{token:"keyword.other",regex:",",comment:"Conjunction"},{token:"keyword.other",regex:";",comment:"Disjunction"},{token:"keyword.operator",regex:"<=|>=|!=|<|>",comment:"Equality"},{token:"keyword.other",regex:"@",comment:"Equality"},{token:"keyword.operator",regex:"\\+|-|\\*|/",comment:"Arithmetic operations"},{token:"keyword",regex:"::",comment:"Colon colon"},{token:"support.function",regex:"\\b(agg\\s*<<)",push:[{include:"$self"},{token:"support.function",regex:">>",next:"pop"}]},{token:"storage.modifier",regex:"\\b(lang:[\\w:]*)"},{token:["storage.type","text"],regex:"(export|sealed|clauses|block|alias|alias_all)(\\s*\\()(?=`)"},{token:"entity.name",regex:"[a-zA-Z_][a-zA-Z_0-9:]*(@prev|@init|@final)?(?=(\\(|\\[))"},{token:"variable.parameter",regex:"([a-zA-Z][a-zA-Z_0-9]*|_)\\s*(?=(,|\\.|<-|->|\\)|\\]|=))"}]},this.normalizeRules()};d.inherits(c,a),b.LogiQLHighlightRules=c}),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],function(f,b,h){var d=f("../../lib/oop"),a=f("./fold_mode").FoldMode,c=f("../../range").Range,g=b.FoldMode=function(){};d.inherits(g,a),function(){this.getFoldWidgetRange=function(y,C,q){var j=this.indentationBlock(y,q);if(j){return j}var v=/\S/,m=y.getLine(q),B=m.search(v);if(B==-1||m[B]!="#"){return}var A=m.length,x=y.getLength(),s=q,z=q;while(++q<x){m=y.getLine(q);var w=m.search(v);if(w==-1){continue}if(m[w]!="#"){break}z=q}if(z>s){var k=y.getLine(z).length;return new c(s,A,z,k)}},this.getFoldWidget=function(p,w,l){var j=p.getLine(l),m=j.search(/\S/),x=p.getLine(l+1),k=p.getLine(l-1),v=k.search(/\S/),q=x.search(/\S/);if(m==-1){return p.foldWidgets[l-1]=v!=-1&&v<q?"start":"",""}if(v==-1){if(m==q&&j[m]=="#"&&x[m]=="#"){return p.foldWidgets[l-1]="",p.foldWidgets[l+1]="","start"}}else{if(v==m&&j[m]=="#"&&k[m]=="#"&&p.getLine(l-2).search(/\S/)==-1){return p.foldWidgets[l-1]="start",p.foldWidgets[l+1]="",""}}return v!=-1&&v<m?p.foldWidgets[l-1]="start":p.foldWidgets[l-1]="",m<q?"start":""}}.call(g.prototype)}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(q,y,g){var b=q("../../lib/oop"),k=q("../behaviour").Behaviour,z=q("../../token_iterator").TokenIterator,d=q("../../lib/lang"),x=["text","paren.rparen","punctuation.operator"],w=["text","paren.rparen","punctuation.operator","comment"],p,j={},v=function(c){var a=-1;c.multiSelect&&(a=c.selection.index,j.rangeCount!=c.multiSelect.rangeCount&&(j={rangeCount:c.multiSelect.rangeCount}));if(j[a]){return p=j[a]}p=j[a]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},m=function(){this.add("braces","insertion",function(D,J,h,c,B){var K=h.getCursorPosition(),I=c.doc.getLine(K.row);if(B=="{"){v(h);var G=h.getSelectionRange(),A=c.doc.getTextRange(G);if(A!==""&&A!=="{"&&h.getWrapBehavioursEnabled()){return{text:"{"+A+"}",selection:!1}}if(m.isSaneInsertion(h,c)){return/[\]\}\)]/.test(I[K.column])||h.inMultiSelectMode?(m.recordAutoInsert(h,c,"}"),{text:"{}",selection:[1,1]}):(m.recordMaybeInsert(h,c,"{"),{text:"{",selection:[1,1]})}}else{if(B=="}"){v(h);var f=I.substring(K.column,K.column+1);if(f=="}"){var E=c.$findOpeningBracket("}",{column:K.column+1,row:K.row});if(E!==null&&m.isAutoInsertedClosing(K,I,B)){return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}else{if(B=="\n"||B=="\r\n"){v(h);var H="";m.isMaybeInsertedClosing(K,I)&&(H=d.stringRepeat("}",p.maybeInsertedBrackets),m.clearMaybeInsertedClosing());var f=I.substring(K.column,K.column+1);if(f==="}"){var o=c.findMatchingBracket({row:K.row,column:K.column+1},"}");if(!o){return null}var C=this.$getIndent(c.getLine(o.row))}else{if(!H){m.clearMaybeInsertedClosing();return}var C=this.$getIndent(I)}var F=C+c.getTabString();return{text:"\n"+F+"\n"+C+H,selection:[1,F.length,1,F.length]}}m.clearMaybeInsertedClosing()}}}),this.add("braces","deletion",function(A,f,C,l,c){var h=l.doc.getTextRange(c);if(!c.isMultiLine()&&h=="{"){v(C);var B=l.doc.getLine(c.start.row),a=B.substring(c.end.column,c.end.column+1);if(a=="}"){return c.end.column++,c}p.maybeInsertedBrackets--}}),this.add("parens","insertion",function(E,H,A,c,C){if(C=="("){v(A);var I=A.getSelectionRange(),h=c.doc.getTextRange(I);if(h!==""&&A.getWrapBehavioursEnabled()){return{text:"("+h+")",selection:!1}}if(m.isSaneInsertion(A,c)){return m.recordAutoInsert(A,c,")"),{text:"()",selection:[1,1]}}}else{if(C==")"){v(A);var G=A.getCursorPosition(),F=c.doc.getLine(G.row),D=F.substring(G.column,G.column+1);if(D==")"){var B=c.$findOpeningBracket(")",{column:G.column+1,row:G.row});if(B!==null&&m.isAutoInsertedClosing(G,F,C)){return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}}}),this.add("parens","deletion",function(A,f,C,l,c){var h=l.doc.getTextRange(c);if(!c.isMultiLine()&&h=="("){v(C);var B=l.doc.getLine(c.start.row),a=B.substring(c.start.column+1,c.start.column+2);if(a==")"){return c.end.column++,c}}}),this.add("brackets","insertion",function(E,H,A,c,C){if(C=="["){v(A);var I=A.getSelectionRange(),h=c.doc.getTextRange(I);if(h!==""&&A.getWrapBehavioursEnabled()){return{text:"["+h+"]",selection:!1}}if(m.isSaneInsertion(A,c)){return m.recordAutoInsert(A,c,"]"),{text:"[]",selection:[1,1]}}}else{if(C=="]"){v(A);var G=A.getCursorPosition(),F=c.doc.getLine(G.row),D=F.substring(G.column,G.column+1);if(D=="]"){var B=c.$findOpeningBracket("]",{column:G.column+1,row:G.row});if(B!==null&&m.isAutoInsertedClosing(G,F,C)){return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}}}),this.add("brackets","deletion",function(A,f,C,l,c){var h=l.doc.getTextRange(c);if(!c.isMultiLine()&&h=="["){v(C);var B=l.doc.getLine(c.start.row),a=B.substring(c.start.column+1,c.start.column+2);if(a=="]"){return c.end.column++,c}}}),this.add("string_dquotes","insertion",function(P,D,I,F,L){if(L=='"'||L=="'"){v(I);var E=L,H=I.getSelectionRange(),C=F.doc.getTextRange(H);if(C!==""&&C!=="'"&&C!='"'&&I.getWrapBehavioursEnabled()){return{text:E+C+E,selection:!1}}var S=I.getCursorPosition(),O=F.doc.getLine(S.row),K=O.substring(S.column-1,S.column),M=O.substring(S.column,S.column+1),G=F.getTokenAt(S.row,S.column),Q=F.getTokenAt(S.row,S.column+1);if(K=="\\"&&G&&/escape/.test(G.type)){return null}var B=G&&/string/.test(G.type),J=!Q||/string/.test(Q.type),N;if(M==E){N=B!==J}else{if(B&&!J){return null}if(B&&J){return null}var c=F.$mode.tokenRe;c.lastIndex=0;var R=c.test(K);c.lastIndex=0;var A=c.test(K);if(R||A){return null}if(M&&!/[\s;,.})\]\\]/.test(M)){return null}N=!0}return{text:N?E+E:"",selection:[1,1]}}}),this.add("string_dquotes","deletion",function(A,f,C,l,c){var h=l.doc.getTextRange(c);if(!c.isMultiLine()&&(h=='"'||h=="'")){v(C);var B=l.doc.getLine(c.start.row),a=B.substring(c.start.column+1,c.start.column+2);if(a==h){return c.end.column++,c}}})};m.isSaneInsertion=function(h,c){var l=h.getCursorPosition(),f=new z(c,l.row,l.column);if(!this.$matchTokenType(f.getCurrentToken()||"text",x)){var a=new z(c,l.row,l.column+1);if(!this.$matchTokenType(a.getCurrentToken()||"text",x)){return !1}}return f.stepForward(),f.getCurrentTokenRow()!==l.row||this.$matchTokenType(f.getCurrentToken()||"text",w)},m.$matchTokenType=function(c,a){return a.indexOf(c.type||c)>-1},m.recordAutoInsert=function(h,c,l){var f=h.getCursorPosition(),a=c.doc.getLine(f.row);this.isAutoInsertedClosing(f,a,p.autoInsertedLineEnd[0])||(p.autoInsertedBrackets=0),p.autoInsertedRow=f.row,p.autoInsertedLineEnd=l+a.substr(f.column),p.autoInsertedBrackets++},m.recordMaybeInsert=function(h,c,l){var f=h.getCursorPosition(),a=c.doc.getLine(f.row);this.isMaybeInsertedClosing(f,a)||(p.maybeInsertedBrackets=0),p.maybeInsertedRow=f.row,p.maybeInsertedLineStart=a.substr(0,f.column)+l,p.maybeInsertedLineEnd=a.substr(f.column),p.maybeInsertedBrackets++},m.isAutoInsertedClosing=function(c,a,f){return p.autoInsertedBrackets>0&&c.row===p.autoInsertedRow&&f===p.autoInsertedLineEnd[0]&&a.substr(c.column)===p.autoInsertedLineEnd},m.isMaybeInsertedClosing=function(c,a){return p.maybeInsertedBrackets>0&&c.row===p.maybeInsertedRow&&a.substr(c.column)===p.maybeInsertedLineEnd&&a.substr(0,c.column)==p.maybeInsertedLineStart},m.popAutoInsertedClosing=function(){p.autoInsertedLineEnd=p.autoInsertedLineEnd.substr(1),p.autoInsertedBrackets--},m.clearMaybeInsertedClosing=function(){p&&(p.maybeInsertedBrackets=0,p.maybeInsertedRow=-1)},b.inherits(m,k),y.CstyleBehaviour=m}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(d,b,f){var c=d("../range").Range,a=function(){};(function(){this.checkOutdent=function(h,g){return/^\s+$/.test(h)?/^\s*\}/.test(g):!1},this.autoOutdent=function(l,j){var p=l.getLine(j),h=p.match(/^(\s*\})/);if(!h){return 0}var k=h[1].length,m=l.findMatchingBracket({row:j,column:k});if(!m||m.row==j){return 0}var g=this.$getIndent(l.getLine(m.row));l.replace(new c(j,0,j,k-1),g)},this.$getIndent=function(g){return g.match(/^\s*/)[0]}}).call(a.prototype),b.MatchingBraceOutdent=a}),ace.define("ace/mode/logiql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/logiql_highlight_rules","ace/mode/folding/coffee","ace/token_iterator","ace/range","ace/mode/behaviour/cstyle","ace/mode/matching_brace_outdent"],function(m,w,g){var b=m("../lib/oop"),j=m("./text").Mode,x=m("./logiql_highlight_rules").LogiQLHighlightRules,d=m("./folding/coffee").FoldMode,v=m("../token_iterator").TokenIterator,q=m("../range").Range,k=m("./behaviour/cstyle").CstyleBehaviour,h=m("./matching_brace_outdent").MatchingBraceOutdent,p=function(){this.HighlightRules=x,this.foldingRules=new d,this.$outdent=new h,this.$behaviour=new k};b.inherits(p,j),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(z,f,B){var y=this.$getIndent(f),c=this.getTokenizer().getLineTokens(f,z),l=c.tokens,A=c.state;if(/comment|string/.test(A)){return y}if(l.length&&l[l.length-1].type=="comment.single"){return y}var a=f.match();return/(-->|<--|<-|->|{)\s*$/.test(f)&&(y+=B),y},this.checkOutdent=function(c,a,f){return this.$outdent.checkOutdent(a,f)?!0:f!=="\n"&&f!=="\r\n"?!1:/^\s+/.test(a)?!0:!1},this.autoOutdent=function(A,C,l){if(this.$outdent.autoOutdent(C,l)){return}var a=C.getLine(l),y=a.match(/^\s+/),D=a.lastIndexOf(".")+1;if(!y||!l||!D){return 0}var c=C.getLine(l+1),B=this.getMatching(C,{row:l,column:D});if(!B||B.start.row==l){return 0}D=y[0].length;var z=this.$getIndent(C.getLine(B.start.row));C.replace(new q(l+1,0,l+1,D),z)},this.getMatching=function(B,C,u){C==undefined&&(C=B.selection.lead),typeof C=="object"&&(u=C.column,C=C.row);var a=B.getTokenAt(C,u),z="keyword.start",D="keyword.end",c;if(!a){return}if(a.type==z){var A=new v(B,C,u);A.step=A.stepForward}else{if(a.type!=D){return}var A=new v(B,C,u);A.step=A.stepBackward}while(c=A.step()){if(c.type==z||c.type==D){break}}if(!c||c.type==a.type){return}var y=A.getCurrentTokenColumn(),C=A.getCurrentTokenRow();return new q(C,y,C,y+c.value.length)},this.$id="ace/mode/logiql"}.call(p.prototype),w.Mode=p});