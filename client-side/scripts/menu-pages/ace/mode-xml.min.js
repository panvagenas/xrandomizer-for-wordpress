ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(f,b,g){var d=f("../lib/oop"),a=f("./text_highlight_rules").TextHighlightRules,c=function(h){this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.xml-decl.xml","keyword.xml-decl.xml"],regex:"(<\\?)(xml)(?=[\\s])",next:"xml_decl",caseInsensitive:!0},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)([-_a-zA-Z0-9]+)",next:"processing_instruction"},{token:"comment.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],xml_decl:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],processing_instruction:[{token:"punctuation.instruction.xml",regex:"\\?>",next:"start"},{defaultToken:"instruction.xml"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)([-_a-zA-Z0-9]+)",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.xml",regex:"-->",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+)",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:"(?:[-_a-zA-Z0-9]+:)?[-_a-zA-Z0-9]+"},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===c&&this.normalizeRules()};(function(){this.embedTagRules=function(i,h,j){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+j+".tag-name.xml"],regex:"(<)("+j+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:h+"start"}]}),this.$rules[j+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(l,k,m){return m.splice(0),this.token}}],this.embedRules(i,h,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+j+".tag-name.xml"],regex:"(</)("+j+"(?=\\s|>|$))",next:j+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(a.prototype),d.inherits(c,a),b.XmlHighlightRules=c}),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(g,k,d){function j(i,a){return i.type.lastIndexOf(a+".xml")>-1}var b=g("../../lib/oop"),f=g("../behaviour").Behaviour,l=g("../../token_iterator").TokenIterator,c=g("../../lib/lang"),h=function(){this.add("string_dquotes","insertion",function(z,D,u,m,w){if(w=='"'||w=="'"){var s=w,C=m.doc.getTextRange(u.getSelectionRange());if(C!==""&&C!=="'"&&C!='"'&&u.getWrapBehavioursEnabled()){return{text:s+C+s,selection:!1}}var y=u.getCursorPosition(),v=m.doc.getLine(y.row),B=v.substring(y.column,y.column+1),x=new l(m,y.row,y.column),q=x.getCurrentToken();if(B==s&&(j(q,"attribute-value")||j(q,"string"))){return{text:"",selection:[1,1]}}q||(q=x.stepBackward());if(!q){return}while(j(q,"tag-whitespace")||j(q,"whitespace")){q=x.stepBackward()}var A=!B||B.match(/\s/);if(j(q,"attribute-equals")&&(A||B==">")||j(q,"decl-attribute-equals")&&(A||B=="?")){return{text:s+s,selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(w,p,y,v,m){var q=v.doc.getTextRange(m);if(!m.isMultiLine()&&(q=='"'||q=="'")){var x=v.doc.getLine(m.start.row),a=x.substring(m.start.column+1,m.start.column+2);if(a==q){return m.end.column++,m}}}),this.add("autoclosing","insertion",function(A,F,u,m,x){if(x==">"){var s=u.getCursorPosition(),D=new l(m,s.row,s.column),z=D.getCurrentToken()||D.stepBackward();if(!z||!(j(z,"tag-name")||j(z,"tag-whitespace")||j(z,"attribute-name")||j(z,"attribute-equals")||j(z,"attribute-value"))){return}if(j(z,"reference.attribute-value")){return}if(j(z,"attribute-value")){var w=z.value.charAt(0);if(w=='"'||w=="'"){var C=z.value.charAt(z.value.length-1),y=D.getCurrentTokenColumn()+z.value.length;if(y>s.column||y==s.column&&w!=C){return}}}while(!j(z,"tag-name")){z=D.stepBackward()}var q=D.getCurrentTokenRow(),B=D.getCurrentTokenColumn();if(j(D.stepBackward(),"end-tag-open")){return}var E=z.value;q==s.row&&(E=E.substring(0,s.column-B));if(this.voidElements.hasOwnProperty(E.toLowerCase())){return}return{text:"></"+E+">",selection:[1,1]}}}),this.add("autoindent","insertion",function(A,F,v,m,x){if(x=="\n"){var s=v.getCursorPosition(),E=m.getLine(s.row),D=new l(m,s.row,s.column),z=D.getCurrentToken();if(z&&z.type.indexOf("tag-close")!==-1){while(z&&z.type.indexOf("tag-name")===-1){z=D.stepBackward()}if(!z){return}var w=z.value,C=D.getCurrentTokenRow();z=D.stepBackward();if(!z||z.type.indexOf("end-tag")!==-1){return}if(this.voidElements&&!this.voidElements[w]){var y=m.getTokenAt(s.row,s.column+1),E=m.getLine(C),q=this.$getIndent(E),B=q+m.getTabString();return y&&y.value==="</"?{text:"\n"+B+"\n"+q,selection:[1,B.length,1,B.length]}:{text:"\n"+B}}}}})};b.inherits(h,f),k.XmlBehaviour=h}),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],function(k,q,d){function g(f,a){return f.type.lastIndexOf(a+".xml")>-1}var b=k("../../lib/oop"),h=k("../../lib/lang"),v=k("../../range").Range,c=k("./fold_mode").FoldMode,p=k("../../token_iterator").TokenIterator,m=q.FoldMode=function(f,a){c.call(this),this.voidElements=f||{},this.optionalEndTags=b.mixin({},this.voidElements),a&&b.mixin(this.optionalEndTags,a)};b.inherits(m,c);var j=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(i,a,l){var f=this._getFirstTagInLine(i,l);return f?f.closing||!f.tagName&&f.selfClosing?a=="markbeginend"?"end":"":!f.tagName||f.selfClosing||this.voidElements.hasOwnProperty(f.tagName.toLowerCase())?"":this._findEndTagInLine(i,l,f.tagName,f.end.column)?"":"start":""},this._getFirstTagInLine=function(u,f){var w=u.getTokens(f),o=new j;for(var a=0;a<w.length;a++){var l=w[a];if(g(l,"tag-open")){o.end.column=o.start.column+l.value.length,o.closing=g(l,"end-tag-open"),l=w[++a];if(!l){return null}o.tagName=l.value,o.end.column+=l.value.length;for(a++;a<w.length;a++){l=w[a],o.end.column+=l.value.length;if(g(l,"tag-close")){o.selfClosing=l.value=="/>";break}}return o}if(g(l,"tag-close")){return o.selfClosing=l.value=="/>",o}o.start.column+=l.value.length}return null},this._findEndTagInLine=function(y,l,A,x){var f=y.getTokens(l),w=0;for(var z=0;z<f.length;z++){var a=f[z];w+=a.value.length;if(w<x){continue}if(g(a,"end-tag-open")){a=f[z+1];if(a&&a.value==A){return !0}}}return !1},this._readTagForward=function(f){var a=f.getCurrentToken();if(!a){return null}var i=new j;do{if(g(a,"tag-open")){i.closing=g(a,"end-tag-open"),i.start.row=f.getCurrentTokenRow(),i.start.column=f.getCurrentTokenColumn()}else{if(g(a,"tag-name")){i.tagName=a.value}else{if(g(a,"tag-close")){return i.selfClosing=a.value=="/>",i.end.row=f.getCurrentTokenRow(),i.end.column=f.getCurrentTokenColumn()+a.value.length,f.stepForward(),i}}}}while(a=f.stepForward());return null},this._readTagBackward=function(f){var a=f.getCurrentToken();if(!a){return null}var i=new j;do{if(g(a,"tag-open")){return i.closing=g(a,"end-tag-open"),i.start.row=f.getCurrentTokenRow(),i.start.column=f.getCurrentTokenColumn(),f.stepBackward(),i}g(a,"tag-name")?i.tagName=a.value:g(a,"tag-close")&&(i.selfClosing=a.value=="/>",i.end.row=f.getCurrentTokenRow(),i.end.column=f.getCurrentTokenColumn()+a.value.length)}while(a=f.stepBackward());return null},this._pop=function(f,a){while(f.length){var i=f[f.length-1];if(!a||i.tagName==a.tagName){return f.pop()}if(this.optionalEndTags.hasOwnProperty(i.tagName)){f.pop();continue}return null}},this.getFoldWidgetRange=function(A,D,w){var s=this._getFirstTagInLine(A,w);if(!s){return null}var y=s.closing||s.selfClosing,u=[],C;if(!y){var z=new p(A,w,s.start.column),x={row:w,column:s.start.column+s.tagName.length+2};while(C=this._readTagForward(z)){if(C.selfClosing){if(!u.length){return C.start.column+=C.tagName.length+2,C.end.column-=2,v.fromPoints(C.start,C.end)}continue}if(C.closing){this._pop(u,C);if(u.length==0){return v.fromPoints(x,C.start)}}else{u.push(C)}}}else{var z=new p(A,w,s.end.column),B={row:w,column:s.start.column};while(C=this._readTagBackward(z)){if(C.selfClosing){if(!u.length){return C.start.column+=C.tagName.length+2,C.end.column-=2,v.fromPoints(C.start,C.end)}continue}if(!C.closing){this._pop(u,C);if(u.length==0){return C.start.column+=C.tagName.length+2,v.fromPoints(C.start,B)}}else{u.push(C)}}}}}).call(m.prototype)}),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml"],function(j,m,d){var b=j("../lib/oop"),g=j("../lib/lang"),p=j("./text").Mode,c=j("./xml_highlight_rules").XmlHighlightRules,l=j("./behaviour/xml").XmlBehaviour,k=j("./folding/xml").FoldMode,h=function(){this.HighlightRules=c,this.$behaviour=new l,this.foldingRules=new k};b.inherits(h,p),function(){this.voidElements=g.arrayToMap([]),this.blockComment={start:"<!--",end:"-->"},this.$id="ace/mode/xml"}.call(h.prototype),m.Mode=h});