ace.define("ace/ext/beautify/php_rules",["require","exports","module","ace/token_iterator"],function(c,a,d){var b=c("ace/token_iterator").TokenIterator;a.newLines=[{type:"support.php_tag",value:"<?php"},{type:"support.php_tag",value:"<?"},{type:"support.php_tag",value:"?>"},{type:"paren.lparen",value:"{",indent:!0},{type:"paren.rparen",breakBefore:!0,value:"}",indent:!1},{type:"paren.rparen",breakBefore:!0,value:"})",indent:!1,dontBreak:!0},{type:"comment"},{type:"text",value:";"},{type:"text",value:":",context:"php"},{type:"keyword",value:"case",indent:!0,dontBreak:!0},{type:"keyword",value:"default",indent:!0,dontBreak:!0},{type:"keyword",value:"break",indent:!1,dontBreak:!0},{type:"punctuation.doctype.end",value:">"},{type:"meta.tag.punctuation.end",value:">"},{type:"meta.tag.punctuation.begin",value:"<",blockTag:!0,indent:!0,dontBreak:!0},{type:"meta.tag.punctuation.begin",value:"</",indent:!1,breakBefore:!0,dontBreak:!0},{type:"punctuation.operator",value:";"}],a.spaces=[{type:"xml-pe",prepend:!0},{type:"entity.other.attribute-name",prepend:!0},{type:"storage.type",value:"var",append:!0},{type:"storage.type",value:"function",append:!0},{type:"keyword.operator",value:"="},{type:"keyword",value:"as",prepend:!0,append:!0},{type:"keyword",value:"function",append:!0},{type:"support.function",next:/[^\(]/,append:!0},{type:"keyword",value:"or",append:!0,prepend:!0},{type:"keyword",value:"and",append:!0,prepend:!0},{type:"keyword",value:"case",append:!0},{type:"keyword.operator",value:"||",append:!0,prepend:!0},{type:"keyword.operator",value:"&&",append:!0,prepend:!0}],a.singleTags=["!doctype","area","base","br","hr","input","img","link","meta"],a.transform=function(H,A,w){var D=H.getCurrentToken(),t=a.newLines,z=a.spaces,q=a.singleTags,K="",G=0,C=!1,J,E,x={},I,k={},B=!1,F="";while(D!==null){console.log(D);if(!D){D=H.stepForward();continue}D.type=="support.php_tag"&&D.value!="?>"?w="php":D.type=="support.php_tag"&&D.value=="?>"?w="html":D.type=="meta.tag.name.style"&&w!="css"?w="css":D.type=="meta.tag.name.style"&&w=="css"?w="html":D.type=="meta.tag.name.script"&&w!="js"?w="js":D.type=="meta.tag.name.script"&&w=="js"&&(w="html"),k=H.stepForward(),k&&k.type.indexOf("meta.tag.name")==0&&(I=k.value),x.type=="support.php_tag"&&x.value=="<?="&&(C=!0),D.type=="meta.tag.name"&&(D.value=D.value.toLowerCase()),D.type=="text"&&(D.value=D.value.trim());if(!D.value){D=k;continue}F=D.value;for(var j in z){D.type==z[j].type&&(!z[j].value||D.value==z[j].value)&&k&&(!z[j].next||z[j].next.test(k.value))&&(z[j].prepend&&(F=" "+D.value),z[j].append&&(F+=" "))}D.type.indexOf("meta.tag.name")==0&&(J=D.value),B=!1;for(j in t){if(D.type==t[j].type&&(!t[j].value||D.value==t[j].value)&&(!t[j].blockTag||q.indexOf(I)===-1)&&(!t[j].context||t[j].context===w)){t[j].indent===!1&&G--;if(t[j].breakBefore&&(!t[j].prev||t[j].prev.test(x.value))){K+="\n",B=!0;for(j=0;j<G;j++){K+="	"}}break}}if(C===!1){for(j in t){if(x.type==t[j].type&&(!t[j].value||x.value==t[j].value)&&(!t[j].blockTag||q.indexOf(J)===-1)&&(!t[j].context||t[j].context===w)){t[j].indent===!0&&G++;if(!t[j].dontBreak&&!B){K+="\n";for(j=0;j<G;j++){K+="	"}}break}}}K+=F,x.type=="support.php_tag"&&x.value=="?>"&&(C=!1),E=J,x=D,D=k;if(D===null){break}}return K}}),ace.define("ace/ext/beautify",["require","exports","module","ace/token_iterator","ace/ext/beautify/php_rules"],function(d,b,f){var c=d("ace/token_iterator").TokenIterator,a=d("./beautify/php_rules").transform;b.beautify=function(i){var g=new c(i,0,0),k=g.getCurrentToken(),h=i.$modeId.split("/").pop(),j=a(g,h);i.doc.setValue(j)},b.commands=[{name:"beautify",exec:function(g){b.beautify(g.session)},bindKey:"Ctrl-Shift-B"}]});(function(){ace.require(["ace/ext/beautify"],function(){})})();